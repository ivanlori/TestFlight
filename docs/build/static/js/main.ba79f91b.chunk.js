(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(10),s=n.n(a),i=n(9),o=n(4),l=n(18),u=n(38),j="AIRPORTS_SETTED",d="AIRLINES_SETTED",b="FLIGHTS_SETTED",p={airports:[],airlines:[],flights:[]},f=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(o.a)(Object(o.a)({},e),{},{airports:t.value});case d:return Object(o.a)(Object(o.a)({},e),{},{airlines:t.value});case b:return Object(o.a)(Object(o.a)({},e),{},{flights:t.value});default:return e}}),Object(u.composeWithDevTools)()),h=(n(57),n(5)),O=n.n(h),x=n(11),v=n(6),m=n(44),g=n(45),y=n(1),w=function(e){var t=e.onChange,n=Object(i.c)((function(e){return e.airports}));return Object(y.jsx)(g.a,{menuPlacement:"top",styles:{option:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{textAlign:"left"})}},defaultValue:{value:"-1",label:"Select airport..."},onChange:function(e){return t(e.label)},options:n.map((function(e){return{value:e.id,label:e.codeIata}}))})},N=n(17),S=n.n(N),k="".concat("","https://recruitment.shippypro.com/flight-engine/api");S.a.defaults.headers.common.Authorization="Bearer 1|MN9ruQV0MFEsgOzMo8crw8gB575rsTe2H5U1y2Lj";var E=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(k,"/airports/all"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(k,"/airlines/all"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(k,"/flights/all"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(k,"/flights/from/").concat(t,"/to/").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){var t=e.id;return Object(i.c)((function(e){return e.airlines})).map((function(e,n){return e.id===t&&Object(y.jsx)("b",{children:e.name},n)}))},M=n(123),A=n(125),F=n(124),z=n(12),D=n.n(z),B=n(39),L=n(40),P=(n(90),D.a.icon({iconUrl:B.a,shadowUrl:L.a}));D.a.Marker.prototype.options.icon=P;var U=function(e){var t=e.lng,n=e.lat;return Object(y.jsxs)(M.a,{center:[n,t],zoom:13,scrollWheelZoom:!1,children:[Object(y.jsx)(A.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(y.jsx)(F.a,{position:[n,t]})]})},W=n(41),R=n(42),H=n(47),J=n(46),V=(n(91),document.getElementById("modal")),G=function(e){Object(H.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(W.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c)))._root=document.createElement("div"),e}return Object(R.a)(n,[{key:"componentDidMount",value:function(){null===V||void 0===V||V.appendChild(this._root)}},{key:"componentWillUnmount",value:function(){null===V||void 0===V||V.removeChild(this._root)}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.children,r=e.title,c=e.onClose;return document.body.style.overflowY=t?"hidden":"scroll",t?Object(a.createPortal)(Object(y.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:Object(y.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center",children:[Object(y.jsx)("div",{className:"fixed inset-0 transition-opacity",children:Object(y.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(y.jsxs)("div",{className:"modal__content",role:"dialog","aria-modal":"true",children:[Object(y.jsxs)("div",{className:"modal__header",children:[Object(y.jsx)("h3",{className:"text-2xl",children:r}),Object(y.jsx)("span",{className:"cursor-pointer text-1xl",onClick:function(){return c()},children:"\u2715"})]}),Object(y.jsx)("div",{className:"flex bg-white",children:n})]})]})}),this._root):null}}]),n}(r.Component),Q=function(e){var t=e.id,n=Object(i.c)((function(e){return e.airports})),c=Object(r.useState)(!1),a=Object(v.a)(c,2),s=a[0],o=a[1],l=Object(r.useState)(0),u=Object(v.a)(l,2),j=u[0],d=u[1],b=Object(r.useState)(0),p=Object(v.a)(b,2),f=p[0],h=p[1],O=Object(r.useState)(""),x=Object(v.a)(O,2),m=x[0],g=x[1];return Object(y.jsxs)(y.Fragment,{children:[n.map((function(e,n){return e.id===t&&Object(y.jsxs)("div",{className:"mx-3",children:[e.codeIata," ",Object(y.jsx)("span",{className:"cursor-pointer hover:underline",onClick:function(){o(!0),h(e.latitude),d(e.longitude),g(e.codeIata)},children:"Map"})]},n)})),Object(y.jsx)(G,{title:m,open:s,onClose:function(){return o(!1)},children:Object(y.jsx)(U,{lat:f,lng:j})})]})},Y=(n(92),function(e){var t=e.label;return Object(y.jsx)("button",{className:"btn",children:t})}),Z=function(e){var t=e.id,n=e.airlineId,r=e.price,c=e.arrivalAirportId,a=e.departureAirportId,s=e.from,i=e.to,o=e.main,l=e.direct;return Object(y.jsxs)("div",{className:"".concat(o?"shadow":"ml-3"," border-2 bg-white p-3 my-2 flex justify-around items-center"),children:[Object(y.jsxs)("div",{className:"w-1/5 text-left",children:[n&&Object(y.jsx)(_,{id:n}),o&&Object(y.jsx)("b",{children:"Main solution"})]}),Object(y.jsxs)("div",{className:"w-1/5 flex justify-between",children:[o&&Object(y.jsxs)(y.Fragment,{children:[s," \u2794 ",i]}),c&&a&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Q,{id:a})," \u2794 ",Object(y.jsx)(Q,{id:c})]})]}),Object(y.jsx)("div",{className:"w-1/5",children:o&&Object(y.jsx)("span",{className:"mx-3",children:l?"Direct flight":"With stop-overs"})}),r&&Object(y.jsx)("div",{className:"flex flex-col w-1/5 text-right",children:"".concat(r.toFixed(2)," $")}),o&&Object(y.jsx)(Y,{label:"Book now!"})]},t)};Z.defaultProps={main:!1};var $=Z,q=function(){var e=Object(i.b)(),t=Object(i.b)(),n=Object(i.b)(),c=Object(r.useState)(!1),a=Object(v.a)(c,2),s=a[0],l=a[1],u=Object(r.useState)(""),p=Object(v.a)(u,2),f=p[0],h=p[1],g=Object(r.useState)(""),N=Object(v.a)(g,2),S=N[0],k=N[1],_=Object(r.useState)(),M=Object(v.a)(_,2),A=M[0],F=M[1],z=Object(r.useState)([]),D=Object(v.a)(z,2),B=D[0],L=D[1],P=function(){var t=Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:n=t.sent,e({type:j,value:n});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var e=Object(x.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:n=e.sent,t({type:d,value:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,T(t,n);case 3:r=e.sent,L(r.data),c=[],r.data.forEach((function(e){c.push(e.price)})),F(c.reduce((function(e,t){return e+t}),0)),l(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,n({type:b,value:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){P(),U(),R()}),[]),Object(r.useEffect)((function(){f&&S&&W(f,S)}),[f,S]),Object(y.jsxs)("main",{children:[Object(y.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-5",children:[Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"From: "}),Object(y.jsx)(w,{onChange:function(e){return h(e)}})]}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("label",{children:"To: "}),Object(y.jsx)(w,{onChange:function(e){return k(e)}})]})]}),Object(y.jsxs)("div",{className:"mx-5 text-center",children:[Object(y.jsx)("div",{className:"h-10",children:Object(y.jsx)(m.ClipLoader,{size:30,css:"mx-auto my-0 block",color:"#000",loading:s})}),0!==B.length||s?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("ul",{children:[B.length>0&&Object(y.jsx)($,{price:A||null,from:f,to:S,main:!0,direct:String(B.length)===String(1)}),B.map((function(e){return Object(y.jsx)($,Object(o.a)({},e))}))]})}):Object(y.jsx)("span",{children:"Select Airports to show data..."})]})]})};s.a.render(Object(y.jsx)(i.a,{store:f,children:Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(q,{})})}),document.getElementById("root"))},57:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.ba79f91b.chunk.js.map